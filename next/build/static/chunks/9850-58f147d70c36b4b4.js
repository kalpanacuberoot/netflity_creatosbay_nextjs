"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9850],{72098:function(e,l,a){a(85893),a(11163),a(16255),a(76489)},36669:function(e,l,a){a.d(l,{Z:function(){return S}});var t=a(85893),s=a(67294),o=a(66029);a(16255);var n=a(25675),r=a.n(n),d=a(38417),i=a(9132),c=a(11163),u=e=>{let{isOpen:l,onClose:a,children:o}=e;return(0,s.useEffect)(()=>{let e=e=>{e.target.closest(".modal-content")||a()};return l?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[l,a]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"fixed inset-0 flex  z-50 justify-center items-center bg-black bg-opacity-50 ".concat(l?"visible":"hidden"),children:(0,t.jsx)("div",{className:"modal-content bg-white rounded shadow-md",children:o})})})};a(35334);var m=a(78070),g=a(91444);a(71399);var p=a(31955),h=a(59262),x=e=>{let{onPopupData:l,onClose:a}=e;(0,c.useRouter)();let[n,u]=(0,s.useState)(null),[x,f]=(0,s.useState)(""),[v,j]=(0,s.useState)(""),[b,w]=(0,s.useState)(null);(0,s.useRef)(null),console.log("fileslected product image",n);let y=async()=>{if(!n){alert("Please select an image to upload.");return}let e=JSON.parse(p.Z.get("user_data"));console.log("categories cookieValue------------2",null==e?void 0:e.token);let l=new FormData;l.append("file",n);try{let a=await fetch("".concat(h.HQ,"/saveimage"),{method:"POST",headers:{Authorization:"Bearer ".concat(null==e?void 0:e.token)},body:l});if(console.log("response image data",a),a.ok){let e=await a.json();u(null==e?void 0:e.url),console.log("image response ok",null==e?void 0:e.url),g.Am.success("Image Uploaded Successfully",{position:"top-center",autoClose:2e3}),await N(null==e?void 0:e.url)}else 413===a.status?g.Am.success("Image size is too large",{position:"top-center",autoClose:2e3}):g.Am.error("Image upload failed",{position:"top-center",autoClose:3e3})}catch(e){console.error("Error uploading image:",e),g.Am.error("Please uplaod the image again",{position:"top-center",autoClose:3e3})}};console.log("dfdsafdsfds",n);let N=async e=>{console.log("imgrddsa product popup----1",n,n);let t=[{link:e,description:x,name:v}];console.log("popupdata---",t),l(t),g.Am.success("Data is saved",{position:"top-center",autoClose:3e3}),a()};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700 min-w-sm",children:[(0,t.jsx)(m.Z,{}),(0,t.jsx)("div",{className:"space-y-6 container-fluid p-14 pb-5",children:(0,t.jsxs)("div",{className:"border rounded-lg px-10  text-center shadow-lg",children:[(0,t.jsx)("div",{className:"my-3",children:(0,t.jsx)("input",{type:"text",id:"text",className:"appearance-none border rounded-md w-full mt-5 bg-gray-100  py-5 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Product Name",required:!0,value:v,onChange:e=>j(e.target.value)})}),(0,t.jsx)("div",{className:" ",children:(0,t.jsx)("div",{className:" focus:border-purple-500 focus:ring-purple-500 border-dotted h-48 align-middle border-4 rounded-lg bg-white py-4 px-6 flex flex-col items-center justify-center",onChange:e=>{let l=e.target.files[0];if(console.log("product handleFileChange",l),l){let e=new FileReader;e.onloadend=()=>{u(l),w(e.result)},e.readAsDataURL(l)}else u(null),w(null)},children:(0,t.jsxs)("label",{htmlFor:"productfileInput",style:{borderColor:o.Z.logo_clr},className:"w-auto py-5",children:[(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("input",{id:"productfileInput",type:"file",accept:"image/*",className:"absolute w-screen hidden "}),!n&&(0,t.jsx)(r(),{src:d.Z.plus_icon,width:15,height:15,alt:"",className:"mx-auto cursor-default m-5 mb-0"})]}),b&&(0,t.jsx)(r(),{src:b,alt:"Selected",style:{maxWidth:"100%",maxHeight:"300px"},width:50,height:50,className:"mx-auto"}),n&&(0,t.jsx)("p",{className:"text-base text-center",children:null==n?void 0:n.name})]})})}),(0,t.jsx)("textarea",{id:"descriptionInput",type:"text",placeholder:"Product Description",className:"appearance-none border rounded-md w-full align-top mt-5 bg-gray-100 h-40 py-5 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:4,value:x,onChange:e=>f(e.target.value),required:!0}),(0,t.jsx)(i.Z,{buttoncss:"font_size_24 leading-6 py-3 button_clr my-5",label:"Submit",onClick:y})]})}),(0,t.jsx)(g.Ix,{})]})})},f=e=>{let{isOpen:l,onClose:a,children:o}=e;return(0,s.useEffect)(()=>{let e=e=>{e.target.closest(".modal-content")||a()};return l?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[l,a]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"fixed inset-0 flex  z-50 justify-center items-center bg-black bg-opacity-50 ".concat(l?"visible":"hidden"),children:(0,t.jsx)("div",{className:"modal-content bg-white rounded shadow-md",children:o})})})},v=e=>{let{refpopupData:l}=e,[a,n]=(0,s.useState)(null),[c,u]=(0,s.useState)(""),[x,f]=(0,s.useState)(""),[v,j]=(0,s.useState)(null),b=(0,s.useRef)(null);console.log("fileslected and ref",a);let w=async e=>{if(!a){alert("Please select an image to upload.");return}let l=JSON.parse(p.Z.get("user_data"));console.log("categories cookieValue------------2",null==l?void 0:l.token);let t=new FormData;t.append("file",a);try{let e=await fetch("".concat(h.HQ,"/saveimage"),{method:"POST",headers:{Authorization:"Bearer ".concat(null==l?void 0:l.token),Accept:"/application/json"},body:t});if(console.log("response image data popup",e),e.ok){let l=await e.json();n(null==l?void 0:l.url),console.log("image response ok",null==l?void 0:l.url),g.Am.success("Image Uploaded Successfully",{position:"top-center",autoClose:2e3}),await y(null==l?void 0:l.url)}else 413===e.status?g.Am.success("Image size is too large",{position:"top-center",autoClose:2e3}):g.Am.error("Image upload failed",{position:"top-center",autoClose:3e3})}catch(e){console.error("Error uploading image:",e),g.Am.error("Please uplaod the image again",{position:"top-center",autoClose:3e3})}};console.log("dftyftyfrefernce",a);let y=async e=>{console.log("imgrddsa product popup----1",a,a),console.log("imgrddsa product popup-----2",a);let t=[{link:e,description:c,name:x}];console.log("refpopupdata---",t),l(t),g.Am.success("Data is saved",{position:"top-center",autoClose:3e3}),onClose()};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[(0,t.jsx)(m.Z,{}),(0,t.jsx)("div",{className:"space-y-6 container-fluid p-14 pb-5",children:(0,t.jsxs)("div",{className:"border rounded-lg px-10  text-center shadow-lg",children:[(0,t.jsx)("div",{className:"my-3",children:(0,t.jsx)("input",{type:"text",id:"text",className:"appearance-none border rounded-md w-full mt-5 bg-gray-100  py-5 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Reference Name",required:!0,value:x,onChange:e=>f(e.target.value)})}),(0,t.jsx)("div",{className:" ",children:(0,t.jsx)("div",{className:" border-dotted h-34 align-middle border-4 rounded-lg bg-white py-4 px-6 flex flex-col items-center justify-center",onChange:e=>{let l=e.target.files[0];if(console.log("fileslected and ref",a,l),l){let e=new FileReader;e.onloadend=()=>{n(l),j(e.result)},e.readAsDataURL(l)}else n(null),j(null)},children:(0,t.jsxs)("label",{htmlFor:"reffileInput",style:{borderColor:o.Z.logo_clr},className:" ",children:[(0,t.jsxs)("div",{className:" w-full text-center",children:[(0,t.jsx)("input",{id:"reffileInput",type:"file",accept:"image/*",ref:b,className:"hidden absolute w-full"}),!a&&(0,t.jsx)(r(),{src:d.Z.plus_icon,width:15,height:15,alt:"",className:"cursor-default mx-auto m-5 "})]}),v&&(0,t.jsx)(r(),{src:v,alt:"Selected",style:{maxWidth:"100%",maxHeight:"300px"},width:50,height:50,className:"mx-auto"}),a&&(0,t.jsx)("h6",{className:"text-base text-center",children:null==a?void 0:a.name}),!a&&(0,t.jsx)("div",{className:"p-10 text-base   text-gray-300 p-5 rounded",children:"Upload Media"})]})})}),(0,t.jsx)("textarea",{type:"text",placeholder:"Reference Description",className:"appearance-none border rounded-md w-full align-top mt-5 bg-gray-100 h-40 py-5 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:4,value:c,onChange:e=>u(e.target.value),required:!0}),(0,t.jsx)(i.Z,{buttoncss:"font_size_24 leading-6 py-3 button_clr my-5",label:"Submit",onClick:w})]})})]})})};a(49761),a(459);var j=a(27484),b=a.n(j),w=a(50720),y=a(10586),N=a(34577),k=a(98075),S=()=>{let e=(0,c.useRouter)(),l=[{label:"Current Month",getValue:()=>{let e=a.startOf("month"),l=a.endOf("month");return[e,l]}},{label:"Next Month",getValue:()=>{let e=a.endOf("month").add(1,"day"),l=e.endOf("month");return[e,l]}},{label:"Reset",getValue:()=>[null,null]}],a=b()(),n=l[0].getValue(),m=e=>{let[l,a]=e;console.log("handleDateChange",l,a);let t=l.add(15,"day");console.log("starting_data",l.format("YYYY-MM-DD")),D(l.format("YYYY-MM-DD")),O(a.format("YYYY-MM-DD")),a.isBefore(t)?alert("Please select a date range with a minimum of 15 days between the start and end dates."):S(e)},[j,S]=(0,s.useState)(n),[C,_]=(0,s.useState)(""),[Z,D]=(0,s.useState)(""),[A,O]=(0,s.useState)(""),[E,I]=(0,s.useState)(!1);console.log("selectedRangeselectedRange",j);let[R,F]=(0,s.useState)(null),[P,Y]=(0,s.useState)(null),[L,z]=(0,s.useState)(null);(0,s.useRef)(null);let[V,M]=(0,s.useState)(!1),[J,q]=(0,s.useState)(!1),[H,T]=(0,s.useState)(""),[U,B]=(0,s.useState)(""),[W,Q]=(0,s.useState)([]),[G,K]=(0,s.useState)([]),[X,$]=(0,s.useState)(null),[ee,el]=(0,s.useState)(null),[ea,et]=(0,s.useState)(""),[es,eo]=(0,s.useState)(""),[en,er]=(0,s.useState)(!1),[ed,ei]=(0,s.useState)(!1),[ec,eu]=(0,s.useState)([]);(0,s.useEffect)(()=>{ey(),window.addEventListener("resize",ey);let{start_date:l,end_date:a}=e.query;return l&&a&&(Y(new Date(l)),z(new Date(a))),()=>{window.removeEventListener("resize",ey)}},[e.query]),console.log("suggestionssuggestions",ec);let em=async l=>{er(!0),l.preventDefault();try{var a,t,s,o,n,r,d;let l=p.Z.get("user_data"),i=null===p.Z||void 0===p.Z?void 0:p.Z.get("user_data");console.log("categories cookieValue------------1",null==i?void 0:null===(a=i.user)||void 0===a?void 0:a.id),console.log("categories cookieValue------------1",l);let c=null===(t=JSON.parse(l))||void 0===t?void 0:null===(s=t.user)||void 0===s?void 0:s.type;if(void 0===l||"brand"!==c)console.log("User not authenticated, navigating to login page..."),e.push("/login"),console.log("categories cookieValue----brand--------userId",null==l?void 0:l.token);else{let l=JSON.parse(p.Z.get("user_data"));console.log("campaigns cookieValue------------1",null==l?void 0:l.token);let a=p.Z.get("brand_detail"),t=p.Z.get("brand_id"),s=null;if(a)try{s=null===(o=JSON.parse(a))||void 0===o?void 0:null===(n=o.brand)||void 0===n?void 0:n.id}catch(e){console.error("Error parsing brand_detail:",e)}if(!s&&t)try{s=JSON.parse(t)}catch(e){console.error("Error parsing brand_ids:",e)}console.log("brandId:campaign_info",s);try{let a={name:H,description:U,starting_date:eb,ending_date:ew,brand_id:s,status:"draft",products:W||ea,references:G||es},t={Authorization:"Bearer ".concat(null==l?void 0:l.token)},o=await (0,h.k_)("".concat(h.HQ,"/campaigns"),"post",a,t);console.log("POST response campaigns-------------:",o),(null==o?void 0:o.status)==="success"?(p.Z.set("campaign_id",JSON.stringify(null==o?void 0:null===(r=o.data)||void 0===r?void 0:r.id),{expires:106500}),p.Z.set("campaign_name",JSON.stringify(null==o?void 0:null===(d=o.data)||void 0===d?void 0:d.name),{expires:106500}),g.Am.success("Campaign is created Successfully",{position:"top-center",autoClose:5e3}),e.push("/marketplace"),er(!1)):g.Am.error("PLease enter the correct campaign details",{position:"top-center",autoClose:5e3})}catch(e){}}}catch(e){console.error("Error parsing user_data cookie:",e)}},eg=G.map(e=>null==e?void 0:e.link),ep=eg.join("");console.log("imagerefString",ep);let eh=W.map(e=>null==e?void 0:e.link),ex=eh.join("");function ef(e){let l=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return"".concat(l,"-").concat(a,"-").concat(t)}console.log("imagerefString",ep),console.log("popupData",W,G,ep,ex);let ev=new Date(X),ej=new Date(ee),eb=ef(ev),ew=ef(ej);console.log("startingfate",X,ee,eb,ew);let ey=()=>{ei(window.innerWidth<=768)};return a.add(15,"day"),console.log("selecteddatse",R),(0,t.jsx)(t.Fragment,{children:en?(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)(r(),{width:100,height:100,alt:"",src:d.Z.Loader})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{isOpen:V,onClose:()=>M(!1),children:(0,t.jsx)("div",{className:"relative w-screen max-w-2xl max-h-full  min-w-xl ",children:(0,t.jsx)(x,{onPopupData:e=>{K(e)},onClose:()=>M(!1)})})}),(0,t.jsx)(f,{isOpen:J,onClose:()=>q(!1),children:(0,t.jsx)("div",{className:"relative w-screen max-w-2xl max-h-full   min-w-xl",children:(0,t.jsx)(v,{refpopupData:e=>{Q(e)},onClose:()=>M(!1)})})}),(0,t.jsx)("div",{className:"flex container_capmapign_info w-full",style:{backgroundColor:o.Z.button_light_clr},children:(0,t.jsx)("div",{className:"m-2 w-full auto-cols-max ",children:(0,t.jsxs)("div",{style:{backgroundColor:o.Z.white_clr},className:"auto-cols-max  p-3 rounded-md flex flex-row ",children:[(0,t.jsxs)("div",{className:"".concat(ed?"w-full":" w-2/3"," p-5 border rounded-md shadow-md m-2 divider_line border  min-h-screen"),children:[(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("h1",{style:{color:o.Z.pending_clr},className:"font-bold campaign_info_title text-2xl",children:"Campaign Info"}),(0,t.jsx)("hr",{className:"divider_line my-5"}),(0,t.jsxs)("div",{className:"my-3",children:[(0,t.jsx)("h3",{className:"mb-2",children:"Campaign Name"}),(0,t.jsx)("input",{type:"text",id:"small-input",className:"shadow-md block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-white-50 sm:text-xs focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",value:H,onChange:e=>T(e.target.value)})]}),(0,t.jsxs)("div",{className:"my-3",children:[(0,t.jsx)("h3",{className:"mb-2",children:"Campaign Description"}),(0,t.jsx)("textarea",{id:"message",rows:"4",className:" shadow-mdblock p-2.5 w-full text-sm text-gray-900 bg-white-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Start Typing...",value:U,onChange:e=>B(e.target.value),spellCheck:"true"})]}),(0,t.jsxs)("div",{className:"my-3",children:[(0,t.jsx)("h3",{className:"mb-2",children:"Product"}),(0,t.jsx)("div",{className:"flex flex-row justify-between",children:(0,t.jsx)("div",{className:"border h-48 rounded-md  w-full me-3 shadow-md",onClick:()=>M(!0),children:(0,t.jsxs)("button",{className:"h-48  w-full ",children:[(0,t.jsx)(r(),{src:d.Z.plus_icon,width:20,className:"mx-auto ",alt:""}),(0,t.jsx)("p",{className:"mt-3",style:{color:o.Z.logo_clr},children:"Add Image"}),ep&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("input",{type:"url",value:ep,className:"w-full p-3",onChange:()=>M(!1),readOnly:!0})})]})})}),(0,t.jsxs)("div",{className:"flex items-center mt-5",children:[(0,t.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,t.jsx)("div",{className:"px-4 text-gray-600",children:"OR"}),(0,t.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"url",id:"url",className:"shadow-md appearance-none border rounded-md text-center w-full my-5 bg-white  py-5 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Paste link",value:ea,onChange:e=>et(e.target.value)})})]}),(0,t.jsxs)("div",{className:"my-3",children:[(0,t.jsx)("h3",{className:"mb-2",children:"Timelines"}),(0,t.jsx)("h6",{children:"Set Creating Date"}),(0,t.jsx)("div",{className:"flex flex-row my-5 border rounded-md justify-between items-center px-5",children:(0,t.jsx)(w._,{dateAdapter:y.y,children:(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"w-full flex",children:[(0,t.jsx)(k.Z,{type:"date",value:Z,onChange:e=>D(e.target.value),className:"w-full",onClick:()=>I(!0)}),(0,t.jsx)(k.Z,{type:"date",value:A,onChange:e=>O(e.target.value),className:"w-full",onClick:()=>I(!0)})]}),(0,t.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,t.jsx)("div",{children:l.map((e,l)=>(0,t.jsx)("button",{onClick:()=>m(e.getValue()),variant:"contained",className:"flex border rounded-full bg-blue-100 my-3 text-sm px-2 py-1",children:null==e?void 0:e.label},l))}),E&&(0,t.jsx)(N.u,{calendars:2,value:j,minDate:a,shortcuts:l,onChange:m})]})]})})}),(0,t.jsxs)("div",{className:"",children:[null!==P&&null!==L&&(0,t.jsxs)("p",{children:["Selected Date Range: ",P.toDateString()," - ",L.toDateString()]}),(0,t.jsx)("div",{className:"text-center w-full",style:{color:o.Z.logo_clr},children:"We required min 15 days to complete the campaign"})]})]}),(0,t.jsxs)("div",{className:"my-3",children:[(0,t.jsx)("h3",{className:"mb-2",children:"Content Reference"}),(0,t.jsx)("div",{className:"flex flex-row justify-between",children:(0,t.jsx)("div",{className:"border h-48 rounded-md  w-full me-3 shadow-md",onClick:()=>q(!0),children:(0,t.jsxs)("button",{className:"h-48  w-full ",children:[(0,t.jsx)(r(),{src:d.Z.plus_icon,width:20,className:"mx-auto ",alt:""}),(0,t.jsx)("p",{className:"mt-3",style:{color:o.Z.logo_clr},children:"Add Image"}),ex&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("input",{type:"url",value:ex,className:"w-full p-3",onChange:()=>q(!1),readOnly:!0})})]})})}),(0,t.jsxs)("div",{className:"flex items-center mt-5",children:[(0,t.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,t.jsx)("div",{className:"px-4 text-gray-600",children:"OR"}),(0,t.jsx)("div",{className:"flex-grow border-t border-gray-300"})]}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"url",id:"url",className:"shadow-md appearance-none border rounded-md text-center w-full my-5 bg-white  py-5 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Paste link",value:es,onChange:e=>eo(e.target.value)})})]}),(0,t.jsx)(i.Z,{label:"Proceed",buttoncss:"py-3",onClick:em})]}),(0,t.jsx)(g.Ix,{})]}),(0,t.jsxs)("div",{className:"".concat(ed?"hidden":"auto-cols-max p-5 border rounded-md shadow-md min-h-screen flex flex-col m-2 w-2/4"),children:[(0,t.jsx)("h3",{children:"Today Highlights"}),(0,t.jsx)(r(),{src:d.Z.campaign_info_imgs,className:"image_capign_info w-full",alt:""})]})]})})})]})})}},49761:function(e,l,a){a(85893),a(38417),a(25675),a(67294),a(459),a(43547)},64553:function(e,l,a){a.r(l);var t=a(85893);a(67294);var s=a(16255);l.default=e=>{let{children:l}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"w-full flex flex-col md:flex-row justify-between",children:[(0,t.jsx)(s.Z,{}),(0,t.jsx)("div",{className:"content w-full",children:l})]})})}}}]);