"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{99409:function(e,s,a){var r=a(85893),t=a(38417),l=a(25675),o=a.n(l);s.Z=e=>{var s,a;return console.log("Avatar_without_badge",e),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)(o(),{className:"rounded-full",src:(null==e?void 0:null===(s=e.item)||void 0===s?void 0:s.profile_pic)?null==e?void 0:null===(a=e.item)||void 0===a?void 0:a.profile_pic:t.Z.avatar1,alt:"",width:52,height:52}),(0,r.jsxs)("div",{className:"font-medium dark:text-white",children:[(0,r.jsx)("div",{className:"font_size_16 capitalize",children:"Creator One"}),(0,r.jsx)("div",{className:"text-sm text-gray-500 font_size_14 dark:text-gray-400",children:"Reply to message"})]})]})})}},40738:function(e,s,a){a.d(s,{Z:function(){return f}});var r=a(85893),t=a(66029);a(19744);var l=a(25675),o=a.n(l),n=a(38417),i=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{className:"flex items-center m-3",children:[(0,r.jsx)("label",{htmlFor:"voice-search",className:"sr-only",children:"Search"}),(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("input",{type:"text",id:"voice-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-5 p-2  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search..."}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",children:(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})})]})]})}),d=e=>{let{item:s,onClick:a}=e;return console.log("item?.profile_pic",null==s?void 0:s.profile_pic),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-2  my-2 cursor-pointer",onClick:a,children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o(),{width:44,height:44,className:"rounded-full",alt:"",src:(null==s?void 0:s.profile_pic)?null==s?void 0:s.profile_pic:n.Z.avatar1}),(0,r.jsx)("span",{className:"bottom-0 left-7 absolute  w-3.5 h-3.5 bg-red-400 border-2 border-white dark:border-gray-800 rounded-full"})]}),(0,r.jsx)("div",{className:"font-medium dark:text-white font_size_14 ",children:(0,r.jsx)("div",{className:"font-medium capitalize",children:"Creator One"})})]})})},c=e=>{var s;let{item:a}=e;return console.log("Avatar_green_bg",a),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-center space-x-4 bg-gray-50 p-2 my-2 rounded-md",style:{background:t.Z.gray2},children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(o(),{width:44,height:44,className:"rounded-full",alt:"",src:null==a?void 0:a.profile_pic}),(0,r.jsx)("span",{className:"bottom-0 left-7 absolute  w-3.5 h-3.5 bg-green-400 border-2 border-white dark:border-gray-800 rounded-full"})]}),(0,r.jsx)("div",{className:"font-medium dark:text-white font_size_14 ",children:(0,r.jsx)("div",{className:"font-medium capitalize",children:null==a?void 0:null===(s=a.user)||void 0===s?void 0:s.name})})]})})},m=a(99409),u=a(59262),h=a(31955),g=a(11163),x=a(67294),p=a(91444);a(71399);var v=e=>{let{creatorId:s,chatcreator_data:a}=e,l=(0,g.useRouter)(),[i,d]=(0,x.useState)([]),[c,m]=(0,x.useState)(),[v,f]=(0,x.useState)([]),[b,j]=(0,x.useState)(!1),y=async()=>{var e,a,r;j(!0);let t=JSON.parse(h.Z.get("user_data"));console.log("categories cookieValue------------1",null==t?void 0:t.token);let o=s.map(e=>e.creator_id);console.log("cretaors_unique_id",o[0]);let n=JSON.parse(h.Z.get("campaign_id"));u.HQ;let i=h.Z.get("brand_detail"),c=h.Z.get("brand_id"),m=null;if(i)try{m=null===(e=JSON.parse(i))||void 0===e?void 0:null===(a=e.brand)||void 0===a?void 0:a.id}catch(e){console.error("Error parsing brand_detail:",e)}if(!m&&c)try{m=JSON.parse(c)}catch(e){console.error("Error parsing brand_ids:",e)}console.log("brandId: all msg",m);try{let e={headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(null==t?void 0:t.token)}},s=new URLSearchParams({brand:m,creator:o[0],campaign:n}),a=await fetch("".concat(u.HQ,"/messages?").concat(s.toString()),e);if(console.log("campaigns communication------",a),401===a.status)p.Am.error("Session Expired: Please login again to continue.",{position:"top-center",autoClose:5e3}),l.push("/login");else if(429===a.status)p.Am.error("Too many requests: Please wait for a few minutes to try and login again.",{position:"top-center",autoClose:5e3}),l.push("/login");else if(500===a.status)p.Am.error("Server Error: Please wait while we fix this problem for you.",{position:"top-center",autoClose:5e3}),l.push("/login");else if(!a.ok)throw Error("Request failed with status: ".concat(a.status));let i=await a.json();console.log("all messages communication response:",i.data),d(null==i?void 0:null===(r=i.data)||void 0===r?void 0:r.data),j(!1)}catch(e){throw console.error("Error:",e),e}},w=async e=>{j(!0),e.preventDefault();try{let e=h.Z.get("user_data");console.log("campaigns cookieValue------------1",e);let t=h.Z.get("campaign_id");if(void 0===e||"undefined"===t)console.log("User not authenticated, navigating to login page..."),l.push("/login"),console.log("categories cookieValue----brand--------userId",null==cookieValue?void 0:cookieValue.token);else{let l=JSON.parse(e),o=JSON.parse(t),n=s.map(e=>e.creator_id);console.log("cretaors_unique_id",n[0]);let i=h.Z.get("brand_detail"),d=h.Z.get("brand_id"),c=null;if(i)try{var a,r;c=null===(a=JSON.parse(i))||void 0===a?void 0:null===(r=a.brand)||void 0===r?void 0:r.id}catch(e){console.error("Error parsing brand_detail:",e)}if(!c&&d)try{c=JSON.parse(d)}catch(e){console.error("Error parsing brand_ids:",e)}console.log("brandId:",c);let m={brand_id:c,campaign_id:o,creator_id:n[0],sender_type:"brand",type:"text",data:v},g={Authorization:"Bearer ".concat(null==l?void 0:l.token)},x=await (0,u.k_)("".concat(u.HQ,"/messages"),"Post",m,g);console.log("handleClick",x),"success"===x.status?(console.log("POST response campaigns-------------:",null==x?void 0:x.data),console.log("post messages communication response:",responseData),p.Am.success("Message is Sent",{position:"top-center",autoClose:5e3}),f(""),await y(),j(!1)):p.Am.error("Too many requests: Please wait for a few minutes to try and login again.",{position:"top-center",autoClose:5e3})}}catch(e){console.log("handleClickerror",e)}};return console.log("messages----",i,v),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"px-5 py-5 rounded overflow-y-auto",children:i.length>0?i.map((e,s)=>{var a;let l=JSON.parse(h.Z.get("user_data"));console.log("chat brand_type",null==l?void 0:null===(a=l.user)||void 0===a?void 0:a.type,e.sender_type);let o="brand"===e.sender_type,n="creator"===e.sender_type,i=null==e?void 0:e.created_at,d=new Date(i),c=d.getFullYear(),m=(d.getMonth()+1).toString().padStart(2,"0"),u=d.getDate().toString().padStart(2,"0"),g=d.getHours().toString().padStart(2,"0"),x=d.getMinutes().toString().padStart(2,"0"),p=d.getSeconds().toString().padStart(2,"0"),v="".concat(c,"-").concat(m,"-").concat(u),f="".concat(g,":").concat(x,":").concat(p);console.log("message Formatted Date:",v),console.log("message Formatted Time:",f);let b="14:17:02".split(":"),j=parseInt(b[0],10),y="AM";j>=12&&(y="PM");let w=j;j>12&&(w=j-12);let N="".concat(w,":").concat(b[1],":").concat(b[2]," ").concat(y);return console.log("formattedtweleveTime Time:",N),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"px-10 py-5 overflow-y-auto",style:{backgroundColor:t.Z.light_bg_clr},children:[(0,r.jsx)("div",{className:"chat-message shadow-lg capitalize ".concat(n?"left-message":o?"right-message":""),children:null==e?void 0:e.data}),(0,r.jsx)("p",{className:" ".concat(n?"left-text-message":o?"right-text-message":""),children:N})]})})}):(0,r.jsxs)("div",{className:"mx-5 px-5 flex items-start bg-yellow-500 rounded p-3",children:[(0,r.jsx)(o(),{src:n.Z.lock_black_clr,width:15,height:15,alt:"",className:"me-5"}),(0,r.jsx)("div",{className:"chat-message text-sm ",children:"Messages are end-to-end encrypted. No one outside of this chat, not even Creatorsbay, can read or listen to them."})]})}),(0,r.jsxs)("div",{className:" flex flex-col h-auto justify-end p-5",children:[(0,r.jsx)("hr",{className:"my-5"}),(0,r.jsxs)("form",{className:"flex items-center",children:[(0,r.jsx)("label",{htmlFor:"voice-search",className:"sr-only",children:"Search"}),(0,r.jsxs)("div",{className:"relative w-full overflow-y-auto",children:[(0,r.jsx)("input",{type:"text",id:"voice-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-5 p-2.5  dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Type something here......",value:v,onChange:e=>f(e.target.value)}),(0,r.jsx)("button",{className:"absolute inset-y-0 right-0 flex items-center pr-10",children:(0,r.jsx)("svg",{className:"w-6 h-6 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"#000",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.408 7.5h.01m-6.876 0h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM4.6 11a5.5 5.5 0 0 0 10.81 0H4.6Z"})})}),(0,r.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",children:(0,r.jsx)("svg",{className:"w-6 h-6  hover:text-gray-900 dark:hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"#000",viewBox:"0 0 12 20",children:(0,r.jsx)("path",{stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",d:"M1 6v8a5 5 0 1 0 10 0V4.5a3.5 3.5 0 1 0-7 0V13a2 2 0 0 0 4 0V6"})})})]}),(0,r.jsx)("button",{type:"submit",className:"inline-flex items-center py-2.5 px-3 ml-2 text-sm font-medium text-white bg-blue-700 rounded-lg border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:w,children:(0,r.jsx)("svg",{className:"w-6 h-6 rotate-90","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20",children:(0,r.jsx)("path",{d:"m17.914 18.594-8-18a1 1 0 0 0-1.828 0l-8 18a1 1 0 0 0 1.157 1.376L8 18.281V9a1 1 0 0 1 2 0v9.281l6.758 1.689a1 1 0 0 0 1.156-1.376Z"})})})]})]})]})};a(41664);var f=()=>{var e,s,a;(0,g.useRouter)();let[l,u]=(0,x.useState)([]),[h,p]=(0,x.useState)([]),[f,b]=(0,x.useState)([]),[j,y]=(0,x.useState)([]);null==l||null===(e=l.creators)||void 0===e||e.map(e=>e.id);let[w,N]=(0,x.useState)(!0),[k,_]=(0,x.useState)([]),[S,Z]=(0,x.useState)([]),[C,F]=(0,x.useState)(!1);(0,x.useEffect)(()=>{},[]);let z=[],A=new Set;for(let e of j){let s=e.data.id;A.has(s)||(A.add(s),z.push(e))}console.log("uniqueData",z),console.log("commmmmmmm",l,f,j);let O=S.map(e=>null==e?void 0:e.creator_id);return console.log("creator_count",S,h.id),(0,r.jsx)(r.Fragment,{children:C?(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)(o(),{width:100,height:100,alt:"",src:n.Z.Loader})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex container_invoice w-full ",style:{background:t.Z.logo_background_clr},children:(0,r.jsxs)("div",{className:"m-2  auto-cols-max text-start p-2  w-full  ",children:[(0,r.jsx)("div",{style:{background:t.Z.invoice_gradient_clr},className:"auto-cols-max p-3 rounded-md flex flex-row",children:(0,r.jsx)("div",{className:"flex flex-row justify-between items-center  w-full",children:(0,r.jsx)("div",{className:"font_size_40",style:{color:t.Z.white_clr},children:"Communication"})})}),(0,r.jsxs)("div",{className:"flex flex-row md:flex-wrap lg:flex-nowrap items-start justify-between w-full",children:[(0,r.jsxs)("div",{style:{background:t.Z.white_clr},className:"w-full h-auto rounded-md my-3 me-3 lg:w-2/4 md:w-full md:h-auto lg:h-screen overflow-y-auto",children:[(0,r.jsx)(i,{}),(0,r.jsxs)("div",{className:" p-4 border shadow rounded m-3 ",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between ",children:[(0,r.jsx)("div",{className:"font_size_21",style:{color:t.Z.pink_clr,fontWeight:"bold"},children:"Active Conversations"}),(0,r.jsx)("span",{style:{background:t.Z.gray2,borderColor:t.Z.light_grey_clr},className:"px-2 rounded-md border",children:(null==f?void 0:f.length)?null==f?void 0:f.length:0})]}),(0,r.jsx)("hr",{className:""}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)("div",{className:"py-3",children:(null==f?void 0:f.length)>0?f.map((e,s)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c,{item:null==e?void 0:e.data},s)})):(0,r.jsx)("h4",{className:"px-5 py-3",children:"No Active Conversations"})})})]}),(0,r.jsxs)("div",{className:"  p-4 border shadow rounded m-3",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between ",children:[(0,r.jsx)("div",{className:"font_size_21",style:{color:t.Z.pink_clr,fontWeight:"bold"},children:"InActive Conversations"}),(0,r.jsx)("span",{style:{background:t.Z.gray2,borderColor:t.Z.light_grey_clr},className:"px-2 rounded-md border",children:"1"})]}),(0,r.jsx)("hr",{className:""}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)("div",{className:"py-3",children:(0,r.jsx)(d,{onClick:()=>N(!1)})})})]})]}),(0,r.jsx)("div",{className:" lg:h-screen h-auto rounded-md my-3 overflow-y-auto me-3 w-full",style:{background:t.Z.white_clr},children:(0,r.jsxs)("div",{className:" bg-zinc-100 h-full",children:[w&&(0,r.jsxs)("div",{className:"flex flex-col items-center p-4 h-full justify-center max-w-lg mx-auto",children:[(0,r.jsx)(o(),{src:n.Z.chat_box_placeholder,width:150,height:150,className:"rounded",alt:""}),(0,r.jsx)("span",{className:"text-center py-5",children:"Make calls, share your screen and get a faster experience when you download the Windows app."})]}),!w&&(0,r.jsxs)(r.Fragment,{children:[h&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex flex-row items-center p-4 justify-between ",children:[(0,r.jsx)(m.Z,{item:h}),(0,r.jsx)("div",{style:{background:t.Z.gray2},className:"py-3 px-3 rounded-md",children:(null==S?void 0:S.length)>0&&(null==S?void 0:S.slice(0,1).map((e,s)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("button",{type:"button",className:"focus:outline-none text-white ".concat((null==e?void 0:e.approved)===0?"bg-red-700 hover:bg-red-800 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800":"bg-green-700 hover:bg-green-800 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800 focus:ring-green-300"," focus:ring-4 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2"),children:(null==e?void 0:e.approved)===0?"Inactive":"active"})})))})]})}),(0,r.jsx)("hr",{className:""}),(0,r.jsx)("div",{className:" bg-zinc-100 flex flex-col justify-end ",style:{height:"100vh"},children:(0,r.jsx)(v,{creatorId:S,chatcreator_data:O})})]})]})}),(0,r.jsxs)("div",{style:{background:t.Z.white_clr},className:"w-full h-auto rounded-md my-3 lg:w-2/4 lg:h-screen overflow-y-auto",children:[(0,r.jsx)("div",{className:"font_size_21  p-4 capitalize",style:{color:t.Z.pink_clr,fontWeight:"bold"},children:"Campaign info"}),(0,r.jsx)("hr",{className:""}),(0,r.jsxs)("div",{className:" border shadow rounded m-3",children:[(0,r.jsx)("div",{className:"p-4 capitalize",children:(0,r.jsx)("h3",{children:"Ant Studio llp"})}),(0,r.jsxs)("div",{className:"px-4",children:[(0,r.jsx)(o(),{src:n.Z.card_img,height:200,width:450,className:"mx-auto",alt:""}),(null==l?void 0:null===(s=l.references)||void 0===s?void 0:s.length)>0&&(null==l?void 0:l.references.map((e,s)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"font-bold underline",children:"Products"}),(0,r.jsx)("h3",{className:"capitalize my-1",children:e.name}),(0,r.jsx)("h4",{className:"mb-5 normal-case",children:e.description}),(0,r.jsx)(o(),{src:null==e?void 0:e.link,height:200,width:200,className:"mx-auto",alt:e.name},s)]}))),(null==l?void 0:null===(a=l.products)||void 0===a?void 0:a.length)>0&&(null==l?void 0:l.products.map((e,s)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"font-bold underline",children:"References"}),(0,r.jsx)("h3",{children:e.name}),(0,r.jsx)("h4",{children:e.description}),(0,r.jsx)(o(),{src:null==e?void 0:e.link,height:216,width:278,className:"mx-auto",alt:""},s)]}))),(0,r.jsx)("div",{className:"font_size_16 communication_text py-2 normal-case my-5",children:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."})]})]}),(0,r.jsxs)("div",{className:" border shadow rounded mx-3 my-4 py-4 px-3",children:[(0,r.jsxs)("div",{className:"flex px-4 items-center",children:[(0,r.jsx)("label",{htmlFor:"first_name",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white w-full",children:(0,r.jsx)("i",{children:"Image Count : "})}),(0,r.jsx)("div",{className:"px-3",children:"1/2"})]}),(0,r.jsxs)("div",{className:"flex px-4 items-center",children:[(0,r.jsx)("label",{htmlFor:"first_name",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white w-full",children:(0,r.jsx)("i",{children:" Video Count : "})}),(0,r.jsx)("div",{className:"px-3",children:"0/2"})]}),(0,r.jsxs)("div",{className:"flex px-4 items-center",children:[(0,r.jsx)("label",{htmlFor:"first_name",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white w-full",children:(0,r.jsx)("i",{children:" Revision Submitted :"})}),(0,r.jsx)("div",{className:"px-3",children:"0/2"})]})]})]})]})]})})})})}},19744:function(e,s,a){a(85893),a(38417),a(25675),a(41664)}}]);