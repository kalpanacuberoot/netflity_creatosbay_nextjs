(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2322],{18614:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/creator_home",function(){return t(18869)}])},18869:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return p}});var r=t(85893),a=t(38417),l=t(66029),s=t(25675),n=t.n(s);t(41664);var i=t(43994),u=t(67294),c=t(31955),d=t(59262),v=()=>{let[e,o]=(0,u.useState)(null),[t,s]=(0,u.useState)(null),v=async()=>{var e,t,r,a,l,s;let n=JSON.parse(c.Z.get("creator_user_data")),i=null==JSON?void 0:JSON.parse(null===c.Z||void 0===c.Z?void 0:c.Z.get("creator_user_data"));console.log("cookieValue creator",null==n?void 0:n.token,null==i?void 0:null===(e=i.user)||void 0===e?void 0:e.id);try{let e={Authorization:"Bearer ".concat(null==n?void 0:n.token),"Content-Type":"application/json"},u=await fetch("".concat(d.HQ,"/creators/?user=").concat(null==i?void 0:null===(t=i.user)||void 0===t?void 0:t.id),{method:"Get",headers:e});if(console.log("response get creators",u),null==u?void 0:u.ok){let e=await u.json();if(console.log("creators response: homepage",null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.data[0]),c.Z.set("creator_profile_id",JSON.stringify(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.data[0])),(null==e?void 0:e.status)==="success"){let t=null===(l=null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.data[0])||void 0===l?void 0:l.id;o(t),await h(t)}else 429===u.status?(toast.error("Too many requests: Please wait for a few minutes to try and login again.",{position:"top-center",autoClose:5e3}),router.push("/login")):500===u.status&&(toast.error("Server Error: Please wait while we fix this problem for you.",{position:"top-center",autoClose:5e3}),router.push("/login"))}else console.error("Error:",u.statusText)}catch(e){console.error("Error:",e)}},h=async e=>{try{var o,t,r,a,l;let n=c.Z.get("creator_user_data");console.log("categories cookieValue------------1",JSON.parse(n).user.type);let i=null===(o=JSON.parse(n))||void 0===o?void 0:null===(t=o.user)||void 0===t?void 0:t.type;if(void 0===n||"creator"!==i)console.log("User not authenticated, navigating to login page..."),router.push("/login"),console.log("categories cookieValue----brand--------userId",null==n?void 0:n.token);else{let o=JSON.parse(c.Z.get("creator_user_data"));try{let t={Authorization:"Bearer ".concat(null==o?void 0:o.token)},n=await fetch("".concat(d.HQ,"/campaigncreators?creator=").concat(e),{method:"Get",headers:t});if(429===n.status){let e=parseInt(n.headers.get("Retry-After"))||60;return console.log("Rate limited. Retrying after ".concat(e," seconds.")),await new Promise(o=>setTimeout(o,1e3*e)),makeRequest()}if(console.log("GET campaigns?brand=1 response:",n),null==n?void 0:n.ok){let e=await n.json();console.log("campaigns response:",null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.data),null==e||null===(a=e.data)||void 0===a||a.data,e.status?s(null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.data):429===n.status?(toast.error("Too many requests: Please wait for a few minutes to try and login again.",{position:"top-center",autoClose:5e3}),router.push("/login")):500===n.status&&(toast.error("Server Error: Please wait while we fix this problem for you.",{position:"top-center",autoClose:5e3}),router.push("/login"))}else console.error("Error:",n.statusText)}catch(e){console.error("Error:",e)}}}catch(e){console.error("Error parsing user_data cookie:",e)}};return(0,u.useEffect)(()=>{v()},[]),console.log("allCreatorCampaignData",e,t),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex w-full",style:{backgroundColor:l.Z.button_light_clr},children:(0,r.jsxs)("div",{className:"w-full auto-cols-max me-3 ps-5 rounded-md pb-3 ",children:[(0,r.jsx)("div",{className:"my-4 ps-3 rounded-md",style:{backgroundColor:l.Z.white_clr},children:(0,r.jsxs)("div",{className:"flex flex-row  w-full justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-col w-full justify-evenly ps-10 pb-5",children:[(0,r.jsxs)("div",{className:"home_title",children:["Welcome to",(0,r.jsx)("span",{className:"golden_home_title",children:" Creators"})," ","bay"]}),(0,r.jsx)("h3",{children:"Your content is just a click away !"})]}),(0,r.jsx)(n(),{src:a.Z.home_title_bg,width:200,height:100,alt:"",className:""})]})}),(0,r.jsx)("div",{className:"flex flex-row justify-evenly items-start p-5 rounded-md flex-wrap overflow-y-auto min-h-screen h-auto",style:{backgroundColor:l.Z.white_clr},children:(null==t?void 0:t.length)>0?t.map((e,o)=>(0,r.jsx)(i.Z,{item:e},o)):(0,r.jsx)("div",{children:"No Campaign Data"})})]})})})},h=t(93153),p=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(h.Z,{}),(0,r.jsx)(v,{})]})})}},function(e){e.O(0,[9598,3153,2903,9774,2888,179],function(){return e(e.s=18614)}),_N_E=e.O()}]);