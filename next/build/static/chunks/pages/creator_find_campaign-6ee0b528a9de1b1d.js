(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7679],{48116:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/creator_find_campaign",function(){return t(74776)}])},74776:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return d}});var r=t(85893),a=t(93153);t(38417);var l=t(66029);t(25675);var s=t(43994),n=t(67294),i=t(31955),c=t(59262),u=()=>{let[e,o]=(0,n.useState)(null),[t,a]=(0,n.useState)(null),u=async()=>{var e,t,r,a,l,s;let n=JSON.parse(i.Z.get("creator_user_data")),u=null==JSON?void 0:JSON.parse(null===i.Z||void 0===i.Z?void 0:i.Z.get("creator_user_data"));console.log("cookieValue creator",null==n?void 0:n.token,null==u?void 0:null===(e=u.user)||void 0===e?void 0:e.id);try{let e={Authorization:"Bearer ".concat(null==n?void 0:n.token),"Content-Type":"application/json"},v=await fetch("".concat(c.HQ,"/creators/?user=").concat(null==u?void 0:null===(t=u.user)||void 0===t?void 0:t.id),{method:"Get",headers:e});if(console.log("response get creators",v),null==v?void 0:v.ok){let e=await v.json();if(console.log("creators response: homepage",null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.data[0]),i.Z.set("creator_profile_id",JSON.stringify(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.data[0])),(null==e?void 0:e.status)==="success"){let t=null===(l=null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.data[0])||void 0===l?void 0:l.id;o(t),await d(t)}else 429===v.status?(toast.error("Too many requests: Please wait for a few minutes to try and login again.",{position:"top-center",autoClose:5e3}),router.push("/login")):500===v.status&&(toast.error("Server Error: Please wait while we fix this problem for you.",{position:"top-center",autoClose:5e3}),router.push("/login"))}else console.error("Error:",v.statusText)}catch(e){console.error("Error:",e)}},d=async e=>{try{var o,t,r,l,s;let n=i.Z.get("creator_user_data");console.log("categories cookieValue------------1",JSON.parse(n).user.type);let u=null===(o=JSON.parse(n))||void 0===o?void 0:null===(t=o.user)||void 0===t?void 0:t.type;if(void 0===n||"creator"!==u)console.log("User not authenticated, navigating to login page..."),router.push("/login"),console.log("categories cookieValue----brand--------userId",null==n?void 0:n.token);else{let o=JSON.parse(i.Z.get("creator_user_data"));try{let t={Authorization:"Bearer ".concat(null==o?void 0:o.token)},n=await fetch("".concat(c.HQ,"/campaigncreators?creator=").concat(e),{method:"Get",headers:t});if(429===n.status){let e=parseInt(n.headers.get("Retry-After"))||60;return console.log("Rate limited. Retrying after ".concat(e," seconds.")),await new Promise(o=>setTimeout(o,1e3*e)),makeRequest()}if(console.log("GET campaigns?brand=1 response:",n),null==n?void 0:n.ok){let e=await n.json();console.log("campaigns response:",null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.data),null==e||null===(l=e.data)||void 0===l||l.data,e.status?a(null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.data):429===n.status?(toast.error("Too many requests: Please wait for a few minutes to try and login again.",{position:"top-center",autoClose:5e3}),router.push("/login")):500===n.status&&(toast.error("Server Error: Please wait while we fix this problem for you.",{position:"top-center",autoClose:5e3}),router.push("/login"))}else console.error("Error:",n.statusText)}catch(e){console.error("Error:",e)}}}catch(e){console.error("Error parsing user_data cookie:",e)}};return(0,n.useEffect)(()=>{u()},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex container_invoice container w-full",style:{background:l.Z.light_grey_clr},children:(0,r.jsxs)("div",{className:"m-2 w-full auto-cols-max text-start p-2",children:[(0,r.jsx)("div",{style:{background:l.Z.invoice_gradient_clr},className:"auto-cols-max p-3 rounded-md flex flex-row",children:(0,r.jsx)("div",{className:"flex flex-row justify-between items-center  w-full",children:(0,r.jsx)("div",{className:"font_size_40 text-center w-full",style:{color:l.Z.white_clr},children:"Live Campaign"})})}),(0,r.jsx)("div",{className:"flex flex-row flex-wrap items-start  justify-evenly",children:(null==t?void 0:t.length)>0?t.map((e,o)=>(0,r.jsx)(s.Z,{item:e},o)):(0,r.jsx)("div",{children:"No Campaign Data"})})]})})})},d=()=>(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(a.Z,{}),(0,r.jsx)(u,{})]})})}},function(e){e.O(0,[9598,3153,2903,9774,2888,179],function(){return e(e.s=48116)}),_N_E=e.O()}]);